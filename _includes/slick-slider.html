<link rel="stylesheet" href="{{ '/assets/css/slick-slider.css' | prepend: site.baseurl }}" />


<div class="slicky-slider">
    {% for image in site.static_files %}
      {% if image.path contains page.images-artists-works %}
        <div class="col px-0">
            <img src="{{ image.path }}" class="img-thumbnail rounded mx-auto slick-slider-img"
              data-img="{{ image.path }}">
        </div>
      {% endif %}
    {% endfor %}
</div>

{% unless include.no-modal %}

  
<div id="OldModal" class="modal" style="z-index: 10000;">
  <span class="close cursor" onclick="closeModal()">&times;</span>
  <div class="modal-content">
      <img id="modalArtistsworks" src="" alt="modal image" />
      <figcaption id="modal-cap" class="p-2"></figcaption>
  </div>
</div>
   
<script>
  var captions = {{ site.data.captions | jsonify }};

  $('.img-thumbnail').on('click', function(e) {
    openModal(e.target.dataset.img);
  })

  function openModal(img) {
    $('#modalArtistsworks').attr('src', img);
    captions.forEach(function(c) {
      if (img.includes(c.filename)) {
        $('#modal-cap').html(c.caption);
      }
    })
    
    $('#OldModal').show();
    $('html').addClass('modal-open');
 

  }

  function closeModal() {
    $('html').removeClass('modal-open');
    $('#OldModal').hide();
    
  }
</script>

{% endunless %}